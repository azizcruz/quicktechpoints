---
interface Props {
  logo: string;
}

const { logo } = Astro.props;
const q = Astro.url.searchParams.get("q");
---

<header class="navbar bg-base-100 my-container justify-center">
  <div class="flex flex-col md:flex-row md:flex-1">
    <a href="/" class="normal-case text-xl">
      <img src="/logo.png" alt="quickles logo" width="200" />
    </a>
    <div class="w-full mt-2 md:mt-0">
      <nav class="flex flex-wrap justify-center md:justify-end gap-2">
        <a href="/" class="btn btn-sm btn-primary normal-case"
          >View All Tech Digests</a
        >
        <a href="/today" class="btn btn-sm btn-primary normal-case"
          >Today's Digests</a
        >
        <label
          for="my-drawer-4"
          class="drawer-button btn btn-sm btn-primary normal-case"
          >Browse by Tag</label
        >
      </nav>
    </div>
  </div>
</header>

{
  Astro.url.pathname === "/" && (
    <form action="/" method="GET">
      <div class="my-container my-4 flex">
        <input
          type="text"
          placeholder="Search..."
          name="q"
          autocomplete="off"
          value={q ? q : ""}
          class="input input-bordered input-sm md:input-md w-full max-w-full pr-12 mr-[-2rem] relative"
        />
        <button type="submit" class="relative md:right-2">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6 md:w-8 md:h-8"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"
            />
          </svg>
        </button>
      </div>
    </form>
  )
}
